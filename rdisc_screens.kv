windowManager:
    logInOrSignUpScreen:
    keyUnlockScreen:
    signUpScreen1:
    signUpScreen2:
    loginScreen:
    logDataScreen:

<logInOrSignUpScreen>:
    FloatLayout:
        size: root.width, root.height
        Label:
            text : "Welcome to Rdisc!"
            #size_hint : 0.2, 0.1
            pos_hint : {"x" : 0, "top" : 1.25}
        RoundedButton:
            text : "Login"
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.55}
            on_release:
                app.root.current = 'login'
                root.manager.transition.direction = "left"
        RoundedButton:
            text : "Sign Up"
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.35}
            on_release:
                app.root.current = 'signup1'
                root.manager.transition.direction = "left"

<keyUnlockScreen>:
    pwd : pwd
    FloatLayout:
        size: root.width, root.height
        Label:
            text : "PASSWORD: "
            size_hint : 0.2, 0.1
            pos_hint : {"x" : 0.25, "top" : 0.7}
        TextInput:
            id : pwd
            multiline :False
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.45, "top" : 0.7}
        RoundedButton:
            text : "LOGIN"
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.5}
            on_release:
                root.validate()
                root.manager.transition.direction = "left"


<signUpScreen1>:
    confirmation_code : confirmation_code
    gen_progress_bar : gen_progress_bar
    FloatLayout:
        Label:
            text : root.pass_code_text
            size_hint : 0.3, 0.1
            pos_hint : {"x": 0.35, "top": 0.9}
        Label:
            text : root.pin_code_text
            size_hint : 0.3, 0.1
            pos_hint : {"x": 0.35, "top": 0.8}
        Label:
            text : root.rand_confirm_text
            size_hint : 0.3, 0.1
            pos_hint : {"x": 0.35, "top": 0.7}
        TextInput:
            id : confirmation_code
            multiline : False
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.55}
        RoundedButton:
            text : "CONFIRM"
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.4}
            on_press : root.continue_confirmation()
        Button:
            text : "<< Back"
            size_hint : 0.1, 0.05
            pos_hint : {"x" : 0, "top" : 1}
            on_press :
                app.root.current = 'login_signup'
                root.manager.transition.direction = "right"
        ProgressBar:
            id : gen_progress_bar
            value: .0
            min: 0
            max: 1
            pos_hint: {'x':.1, "top" : 1.15}
            size_hint_x: .8

<signUpScreen2>:
    gen_progress_bar : gen_progress_bar
    FloatLayout:
        Label:
            text : "Generating key"
            size_hint : 0.3, 0.1
            pos_hint : {"x": 0.35, "top": 0.85}
        ProgressBar:
            id : gen_progress_bar
            value: .0
            min: 0
            max: 1
            pos_hint: {'x':.1}
            size_hint_x: .8

# recovery screen
<loginScreen>:
    FloatLayout:
        Button:
            text : "<< Back"
            size_hint : 0.1, 0.05
            pos_hint : {"x" : 0, "top" : 1}
            on_press :
                app.root.current = 'login_menu'
                root.manager.transition.direction = "right"

# show login success
<logDataScreen>:
    info : info
    FloatLayout:
        Label:
            id : info
            size_hint : 0.8, 0.2
            pos_hint : {"x" : 0.12, "top" : 0.8}
            text : "SUCCESSFULLY LOGGED IN AS"


<RoundedButton@Button>
	background_color: (0,0,0,0)
	background_normal: ''
	canvas.before:
		Color:
			#rgba: (48/255,84/255,150/255,1)
			rgba: (104/255, 84/255, 252/255,1)
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius: [10]
